<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  </head>
  <body>
    <a-scene
      mindar-image="imageTargetSrc: ./targets.mind; maxTrack: 2"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-assets>
        <a-asset-item id="WhaleO3" src="./WhaleO1.glb"></a-asset-item>
        <a-asset-item id="OctupusO3" src="./Octopus.glb"></a-asset-item>
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <!-- Ballena -->
      <a-entity mindar-image-target="targetIndex: 0">
        <a-gltf-model
          id="whale-model"
          src="#WhaleO3"
          position="0 0 0"
          scale="0.7 0.7 0.7"
        ></a-gltf-model>

        <!-- Menú de ballena -->
        <a-entity id="whale-menu" position="0 0.8 0">
          <a-plane color="#000" width="1.5" height="0.5" opacity="0.6"></a-plane>
          <a-text
            id="whale-text"
            value="Dato curioso 1: Las ballenas son los animales más grandes del planeta."
            align="center"
            color="#FFF"
            width="1.4"
            position="0 0 0.01"
          ></a-text>
          <a-entity id="whale-prev" geometry="primitive: plane; width: 0.3; height: 0.2"
            material="color: blue"
            position="-0.7 -0.3 0.01"
            text="value: Anterior; align: center; color: white; width: 1">
          </a-entity>
          <a-entity id="whale-next" geometry="primitive: plane; width: 0.3; height: 0.2"
            material="color: blue"
            position="0.7 -0.3 0.01"
            text="value: Siguiente; align: center; color: white; width: 1">
          </a-entity>
        </a-entity>
      </a-entity>

      <!-- Pulpo -->
      <a-entity mindar-image-target="targetIndex: 1">
        <a-gltf-model
          id="octopus-model"
          src="#OctupusO3"
          position="0 -0.25 0"
          scale="0.05 0.05 0.05"
        ></a-gltf-model>

        <!-- Menú de pulpo -->
        <a-entity id="octopus-menu" position="0 0.8 0">
          <a-plane color="#000" width="1.5" height="0.5" opacity="0.6"></a-plane>
          <a-text
            id="octopus-text"
            value="Dato curioso 1: Los pulpos tienen tres corazones."
            align="center"
            color="#FFF"
            width="1.4"
            position="0 0 0.01"
          ></a-text>
          <a-entity id="octopus-prev" geometry="primitive: plane; width: 0.3; height: 0.2"
            material="color: blue"
            position="-0.7 -0.3 0.01"
            text="value: Anterior; align: center; color: white; width: 1">
          </a-entity>
          <a-entity id="octopus-next" geometry="primitive: plane; width: 0.3; height: 0.2"
            material="color: blue"
            position="0.7 -0.3 0.01"
            text="value: Siguiente; align: center; color: white; width: 1">
          </a-entity>
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      // Datos curiosos de cada animal
      const whaleFacts = [
        "Dato curioso 1: Las ballenas son los animales más grandes del planeta.",
        "Dato curioso 2: Las ballenas jorobadas pueden cantar canciones complejas.",
        "Dato curioso 3: El corazón de una ballena azul puede pesar más de 150 kg."
      ];

      const octopusFacts = [
        "Dato curioso 1: Los pulpos tienen tres corazones.",
        "Dato curioso 2: Los pulpos pueden cambiar de color y textura para camuflarse.",
        "Dato curioso 3: Son considerados los invertebrados más inteligentes."
      ];

      let whaleIndex = 0;
      let octopusIndex = 0;

      // Ballena
      document.querySelector("#whale-prev").addEventListener("click", () => {
        whaleIndex = (whaleIndex - 1 + whaleFacts.length) % whaleFacts.length;
        document.querySelector("#whale-text").setAttribute("value", whaleFacts[whaleIndex]);
      });

      document.querySelector("#whale-next").addEventListener("click", () => {
        whaleIndex = (whaleIndex + 1) % whaleFacts.length;
        document.querySelector("#whale-text").setAttribute("value", whaleFacts[whaleIndex]);
      });

      // Pulpo
      document.querySelector("#octopus-prev").addEventListener("click", () => {
        octopusIndex = (octopusIndex - 1 + octopusFacts.length) % octopusFacts.length;
        document.querySelector("#octopus-text").setAttribute("value", octopusFacts[octopusIndex]);
      });

      document.querySelector("#octopus-next").addEventListener("click", () => {
        octopusIndex = (octopusIndex + 1) % octopusFacts.length;
        document.querySelector("#octopus-text").setAttribute("value", octopusFacts[octopusIndex]);
      });
    </script>
  </body>
</html>

